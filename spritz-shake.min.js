var hash=window.location.hash;var origin=window.location.protocol+"//"+window.location.host;if(typeof localStorage!=="undefined"&&hash){try{localStorage.setItem("spritz.authResponse",hash)}catch(e){if(console){console.log(e,"Can't write to localStorage")}}}if(window.opener){window.opener.postMessage(hash,origin)}if("undefined"==typeof jQuery)throw new Error("Spritz's JavaScript requires jQuery");if(function(e){var t=e("#spritzjs");if(0===t.length)window.spritz_sdk_root="//sdk.spritzinc.com/js/1.0";else{var n=t.attr("src"),r=n.split("/"),i="";if(r.length<3)i=".";else for(var s=0;s<r.length-2;s++)i+=r[s],i+="/";window.spritz_sdk_root=i}}(jQuery),!document.getElementById("spritz-css")){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.id="spritz-css",link.rel="stylesheet",link.type="text/css",link.href=window.spritz_sdk_root+"/css/spritz.min.css",link.media="all",head.appendChild(link)}var SPRITZ=SPRITZ||{};SPRITZ.utils={},SPRITZ.utils.debugLevel=0,SPRITZ.utils.setDebugLevel=function(e){SPRITZ.utils.debugLevel=e},SPRITZ.namespace=function(e){var t,n=e.split("."),r=SPRITZ;for("SPRITZ"===n[0]&&(n=n.slice(1)),t=0;t<n.length;t+=1)"undefined"==typeof r[n[t]]&&(r[n[t]]={}),r=r[n[t]];return r},SPRITZ.addToNamespace=function(e,t){var n=t();for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},SPRITZ.utils.supportsCanvas=function(){return!!document.createElement("canvas").getContext()},SPRITZ.utils.supportsCanvasText=function(){if(!SPRITZ.utils.supportsCanvas())return!1;var e=document.createElement("canvas"),t=e.getContext("2d");return"function"==typeof t.fillText},SPRITZ.utils.supportsHtmlStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},SPRITZ.utils.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},SPRITZ.utils.timestampToString=function(e,t){"undefined"==typeof t&&(t=new Date);var n="",r=Math.round((t.getTime()-e)/1e3);if(60>r)n=r+"s ago";else{var i=Math.round((t.getTime()-e)/6e4);if(60>i)n=i+"m ago";else{var s,o,u=new Date(e);u.getHours()>12?(s=u.getHours()-12,o="PM"):(s=u.getHours(),o="AM");var a=s+":";u.getMinutes()<10&&(a+="0"),a=a+u.getMinutes()+" "+o,n=u.getDate()===t.getDate()&&u.getMonth()===t.getMonth()&&u.getFullYear()===t.getFullYear()?a:u.getMonth()+1+"/"+u.getDate()+"/"+u.getFullYear().toString().substring(2,4)+" "+a}}return n};var jsutil=jsutil||function(){var e=null,t=200,n=220,r=function(e,t){if("function"!=typeof t)throw new Error("method parameter is not a function ["+typeof t+"]");var n=function(){return t.apply(e,arguments)};return n},i=function(r,i){if("undefined"==typeof i&&(i=r,r=0),console&&r<=SPRITZ.utils.debugLevel&&console.log(i),null===e&&(e=jQuery("#spritzDebugPage .ui-page-content"),0===e.length&&(e=null)),e&&r<=SPRITZ.utils.debugLevel){var s;switch(r){case 1:s="dbg-err";break;case 2:s="dbg-warn";break;case 3:s="dbg-3";break;case 4:s="dbg-4";break;case 5:s="dbg-5";break;default:s="dbg-info"}jQuery('<div class="'+s+'">'+i+"</div>").appendTo(e);var o=e.children("div");if(o.length>n){for(var u=o.length-t,f=u-1;f>=0;f--)o[f].remove();jQuery('<div class="dbg-info;">'+(new Date).toString()+" - Removed "+u+" entries</div>").appendTo(e)}}};return{createDelegate:r,debug:i}}();+function(e){function t(t){e(r).remove(),e(i).each(function(){var r=n(e(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var r=".dropdown-backdrop",i="[data-toggle=dropdown]",s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=n(i),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown",u),i.focus()}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var s=n(r),o=s.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&s.find(i).focus(),r.click();var u=" li:not(.divider):visible a",f=s.find("[role=menu]"+u+", [role=listbox]"+u);if(f.length){var l=f.index(f.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<f.length-1&&l++,~l||(l=0),f.eq(l).focus()}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new s(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,s.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu], [role=listbox]",s.prototype.keydown)}(jQuery),SPRITZ.namespace("SPRITZ.component"),SPRITZ.addToNamespace(SPRITZ.component,function(){function e(e){this.container=e instanceof jQuery?e:t(e),e.data("controller",this),this.button=t("button",this.container),this.currentValue=null,n.call(this)}var t=jQuery,n=function(){t(".dropdown-menu",this.container).on("click","li",jsutil.createDelegate(this,r));var e=t("li.selected",this.container);0==e.length&&(e=t(".dropdown-menu li:first-child",this.container)),this.currentValue=e.data("value")},r=function(e){e.preventDefault();var n=t(e.currentTarget);s.call(this,n),i.call(this,n.data("value"))},i=function(e,t){if(this.currentValue==e);else{var n=this.currentValue;this.currentValue=e,t||this.container.trigger("change",{oldValue:n,newValue:e})}},s=function(e){var n=t("a",e);this.button.html(n.html()+' <span class="caret"></span>'),t(".dropdown-menu li",this.container).removeClass("selected"),e.addClass("selected")};return e.prototype.setValue=function(e,n){var r=t("li[data-value='"+e+"']",this.container);return 1==r.length&&(s.call(this,r),i.call(this,r.data("value"),n)),1==r.length},t(document).ready(function(){t(".btn-group[data-role='select']").each(function(){var n=t(this);n.data("controller")instanceof e||new SPRITZ.component.BootstrapSelectController(n)})}),{BootstrapSelectController:e}}),SPRITZ.namespace("SPRITZ.model"),SPRITZ.model.TimedWord=function(e,t,n,r,i){var s=SPRITZ.model;s.TimedWord.FLAG_MASK=7,s.TimedWord.FLAG_SENTENCE_START=1,s.TimedWord.FLAG_BOLD=2,s.TimedWord.FLAG_PARAGRAPH_START=4,this.word=e,this.orp=t,this.multiplier=n,this.position=r,this.flags=i,this.isBold=function(){return 0!=(this.flags&s.TimedWord.FLAG_BOLD)},this.isSentenceStart=function(){return 0!=(this.flags&s.TimedWord.FLAG_SENTENCE_START)},this.isParagraphStart=function(){return 0!=(this.flags&s.TimedWord.FLAG_PARAGRAPH_START)},this.toString=function(){return'{"'+this.word+'", '+this.orp+", "+this.multiplier+", "+this.position+(this.isParagraphStart()?", paragraphStart":"")+(this.isSentenceStart()?", sentenceStart":"")+(this.isBold()?", bold":"")+"}"}},SPRITZ.model.SpritzText=function(e,t,n,r){var i=1.21,s=e,o=t,u=n,a=r,f=0,l=null;this.getWords=function(){return s},this.getLocale=function(){return u},this.getVersion=function(){return a},this.getWord=function(e){return s[e]},this.getCurrentWord=function(){return s[f]},this.getNextWord=function(){return f<s.length?(this.setCurrentIndex(++f),s[f]):null},this.hasNextWord=function(){return f<s.length},this.getCurrentIndex=function(){return f},this.setCurrentIndex=function(e){f=e,null!=l&&l(f,s.length)},this.size=function(){return s.length},this.reset=function(){this.setCurrentIndex(0)},this.getPreviousSentenceStart=function(e,t){var n=SPRITZ.model;if(0>e||e>=s.length)throw new n.ArrayIndexOutOfBoundsException(e);var r=e;if(t>0)for(;r>0&&t>0&&(!s[r].isSentenceStart()||0!=--t);r--);return r},this.getNextSentenceStart=function(e,t){var n=SPRITZ.model;if(0>e||e>=s.length)throw new n.ArrayIndexOutOfBoundsException(e);var r=e;if(t>0)for(;r<s.length&&(!s[r].isSentenceStart()||0!=--t);r++);return r},this.calculateTime=function(e,t){return Math.round(6e4*o*(s.length-t)/(e*i*s.length))},this.getTotalTime=function(e){return this.calculateTime(e,0)},this.getRemainingTime=function(e){return this.calculateTime(e,f)},this.getProgressTracker=function(){return l},this.setProgressTracker=function(e){l=e}},SPRITZ.model.SpritzText.create=function(e,t,n,r){var i=SPRITZ.model,s="V2",o="AAAC",u=goog.math.Long.fromInt(1073741823),a=goog.math.Long.fromInt(15),f=goog.math.Long.fromInt(16383),l=goog.math.Long.fromInt(7),c=1,h=2,p=4;if(e!==s)throw new Error("Unknown container format");if(!("object"==typeof t&&t instanceof Array&&"object"==typeof n&&n instanceof Array))throw new Error("Invalid data format: wrong types");if(0==n.length)throw new Error("Invalid data format: data2");var d=n[0];if("string"!=typeof d)throw new i.IllegalArgumentException("Invalid preamble");var v=d.split(",");if(v.length<4)throw new Error("Invalid preamble");if(v[0]!=o)throw new Error("Unrecognized encoding");var m=parseInt(v[1]);if(t.length!=m||n.length-1!=m)throw new Error("Invalid data format: Wrong data length");for(var g=[],y=0;m>y;y++){var b=t[y],w=n[y+1],E=goog.math.Long.fromString(w,16),S=E.and(l).toInt(),x=0;0!=(S&c)&&(x|=i.TimedWord.FLAG_BOLD),0!=(S&h)&&(x|=i.TimedWord.FLAG_SENTENCE_START),0!=(S&p)&&(x|=i.TimedWord.FLAG_PARAGRAPH_START),E=E.shiftRight(3);var T=E.and(f).getLowBits();E=E.shiftRight(14);var N=E.and(a).getLowBits();E=E.shiftRight(4);var C=E.and(u).getLowBits();g.push(new i.TimedWord(b,N,T,C,x))}return new SPRITZ.model.SpritzText(g,r,v[2],v[3])},SPRITZ.model.IllegalArgumentException=function(e){this.name="IllegalArgumentException",this.message=e},SPRITZ.model.IllegalArgumentException.prototype=new Error,SPRITZ.model.IllegalArgumentException.prototype.constructor=SPRITZ.model.IllegalArgumentException,SPRITZ.model.ArrayIndexOutOfBoundsException=function(e){this.name="ArrayIndexOutOfBoundsException",this.message=e},SPRITZ.model.ArrayIndexOutOfBoundsException.prototype=new Error,SPRITZ.model.ArrayIndexOutOfBoundsException.prototype.constructor=SPRITZ.model.ArrayIndexOutOfBoundsException,SPRITZ.namespace("SPRITZ.display"),SPRITZ.display.SpritzReadingPanel=function(e){var t=jQuery,n="SpritzReadingPanel: ";jsutil.debug(3,n+"Created "+n);var r=Object.freeze({ready:0,running:1,paused:2,completed:3}),i=function(){nt=q+"px "+f,"undefined"!=typeof localStorage&&"ru"==localStorage.getItem("spritz.language")&&(nt=q+"px "+l),rt="bold "+nt,it=nt,st=rt},s=function(){F=e.width,I=e.height,q=Math.round(e.height*c);var t;-1==navigator.userAgent.toLowerCase().indexOf("firefox")?(et=1,tt=3,t=-1):(et=2,tt=2,t=1),tt=tt*e.height/60,R=Math.round(.56*q+.5),U=Math.round(.44*q+.5),z=R+U,W=Math.round(e.height*p),X=Math.round(E+(e.width-E-S)*h),V=Math.round(x+(e.height-x-T)/2),$=V-Math.round((R+U)/2)+t,J=0,K=e.width,Q=Math.round(e.width*v),G=Math.round(e.height*d),Y=X-E,Z=e.width-S-X,i(),ot=e.getContext("2d"),ot.textBaseline="top",ot.textAlign="left";var r=3;jsutil.debug(r,n+"dimensions: "+e.width+"x"+e.height),jsutil.debug(r,n+"fontSizeHeight: "+q),jsutil.debug(r,n+"ascent: "+R),jsutil.debug(r,n+"descent: "+U),jsutil.debug(r,n+"focus: "+X+","+V),jsutil.debug(r,n+"textY: "+$),jsutil.debug(r,n+"fontRealHeight: "+z),jsutil.debug(r,n+"textOverflow, top: "+et+", bottom: "+tt),jsutil.debug(r,n+"textNormalPaint: "+nt),jsutil.debug(r,n+"textNormalBoldPaint: "+rt)},o=200,u=1.21,a=6e4,f="SpritzMedienMedium",l="arial",c=.4,h=.35,p=.1,d=.113,v=.03,m="#FFFFFF",g="#000000",y="#CC0001",b="Black",w=2,E=0,S=0,x=0,T=0,N=750,C=N,k="#E8E8E8",L=5,A=null,O=o,M=null,_=null,D=0,P=!0,H=r.ready,B=g,j=k,F=0,I=0,q=0,R=0,U=0,z=0,W=0,X=0,V=0,$=0,J=0,K=0,Q=0,G=0,Y=0,Z=0,et=0,tt=0,nt="",rt="",it="",st="",ot=null;s(),ot.fillStyle=m,ot.font=nt,ot.fillText(" ",0,0),ot.fillRect(0,0,e.width,e.height);var ut=function(e,t,n,r,i,s){ot.lineWidth=i,ot.strokeStyle=s,ot.beginPath(),ot.moveTo(e,t),ot.lineTo(n,r),ot.stroke()},at=function(){var t=E+Q,n=e.width-S-Q,r=x+G,i=e.height-T-G;ut(t,r,n,r,w,b),ut(X,r,X,r+W,w,b),ut(t,i,n,i,w,b),ut(X,i-W,X,i,w,b)},ft=function(e,t){ot.font=t;var n=ot.measureText(e);return n.width},lt=function(e,t,n,r,i){ot.font=t,ot.fillStyle=n,ot.fillText(e,r,i)},ct=function(e,t,n,r,i){ot.fillStyle=i,ot.fillRect(e,t,n,r)},ht=function(){ct(E,x,e.width-S,e.height-T,m)},pt=function(){B=P?y:g},dt=function(){return A},vt=function(){var e=A.getCurrentIndex();if(e>=0){var t;A.hasNextWord()?t=2:(e--,t=1),e=A.getPreviousSentenceStart(e,t),""==A.getWord(e).word&&e<A.size()-1&&(e+=1)}return e},mt=function(){var e=A.getCurrentIndex();return e<A.size()-1&&(e=A.getNextSentenceStart(e+1,1)),e},gt=function(){if(H==r.running){Nt();var e=dt().getNextWord();if(null==e){if(H=r.completed,null!=M){var t=M;delete M,t()}}else Tt(e.word,e.orp,e.position,e.isBold()),_=setTimeout(function(){_=null,gt()},St(e.multiplier))}else jsutil.debug(4,n+"displayNextWord interrupted on word # "+dt().getCurrentIndex()+" because of state: "+H)},yt=function(){D=(new Date).getTime(),bt(this)},bt=function(){var t=(new Date).getTime()-D,n=t/C,r=Math.max(Y*n,0),i=Math.max(Z*n,0),s=e.height-x-T,o=e.width-E-S;ht(),ct(E+r,x,o-r-i,s,j),at(),xt(),X>=r||i<=e.width-X?_=setTimeout(function(){_=null,bt()},L):(ht(),at(),xt(),gt(this))},wt=function(){return O},Et=function(e){return Math.floor(a/(e*u))},St=function(e){return(1+e/100)*Et(wt())},xt=function(){var e=A.getCurrentWord();Tt(e.word,e.orp,e.position,e.isBold())},Tt=function(e,t,n,r){if(null!=e&&0!=e.length){var i,s,o=$;r?(i=rt,s=st):(i=nt,s=it);var u,a,f,l,c,h,p=e.length;0==t?(u=null,l=0):(u=e.substring(0,t),l=Math.round(ft(u,i))),a=e.substring(t,t+1),c=Math.round(ft(a,s)),h=Math.round(c/2),f=t==p-1?null:e.substring(t+1),l>0&&lt(u,i,g,X-l-h,o),lt(a,s,B,X-h,o),null!=f&&lt(f,i,g,X+h,o)}},Nt=function(){ot.fillStyle=m,ot.fillRect(J,$-et,K-J,z+tt+1)},Ct=function(){var r=t(e),i=r.width(),o=r.height();i==F&&o==I?jsutil.debug(3,n+"dimensions unchanged: "+F+"x"+I):(jsutil.debug(3,n+"dimensions changed: "+F+"x"+I+" -> "+i+"x"+o),e.width=i,e.height=o,s())};at(),this.getCurrentText=function(){return dt()},this.setCurrentText=function(e){this.pauseText(),A=e,Nt()},this.getCurrentTextSpeed=function(){return wt()},this.setCurrentTextSpeed=function(e){O=e},this.getCurrentPosition=function(){return null!=A?A.getCurrentIndex():-1},this.getHighlightBestLetter=function(){return P},this.setHighlightBestLetter=function(e){P=e,pt()},this.setOnCompleteCallback=function(e){M=e},this.isPaused=function(){return H==r.paused},this.isReady=function(){return H==r.ready},this.displayText=function(e,t){if(jsutil.debug(4,n+"Displaying text with "+e.size()+" words in "+O+" words/min"),A=e,M=t,A.hasNextWord())H=r.running,i(),Ct(),pt(),yt();else if(null!=M){var t=M;delete M,t()}},this.pauseText=function(){H==r.running?(A?jsutil.debug(4,n+"Pausing text with "+A.size()+" words at word # "+(A.getCurrentIndex()+1)):jsutil.debug(4,n+"No text to pause"),null!=_&&(clearTimeout(_),_=null),A.getCurrentIndex()>0&&A.setCurrentIndex(A.getCurrentIndex()),H=r.paused):H=r.paused},this.resumeText=function(){A?A.hasNextWord()?(jsutil.debug(4,n+"Resuming text with "+A.size()+" words at word # "+(A.getCurrentIndex()+1)),H=r.running,i(),Ct(),pt(),yt()):jsutil.debug(4,n+"Cannot resume Text because there are no more words"):jsutil.debug(2,n+"Cannot resume Text because it is null")},this.resetText=function(){this.pauseText(),A=null,Nt()},this.goToFirstWord=function(){A?(A.reset(),ht.call(this),at.call(this),xt()):jsutil.debug(4,n+"Cannot go to the first word because the text is null")},this.goToPreviousSentence=function(){A?(A.setCurrentIndex(vt.call(this)),jsutil.debug(4,n+"Positioning Text with "+A.size()+" words at word # "+A.getCurrentIndex()),ht.call(this),at.call(this),xt()):jsutil.debug(4,n+"Cannot go to previous sentence because the text is null")},this.goToNextSentence=function(){A?(A.setCurrentIndex(mt.call(this)),jsutil.debug(4,n+"Positioning Text with "+A.size()+" words at word # "+A.getCurrentIndex()),ht.call(this),at.call(this),A.hasNextWord()&&xt()):jsutil.debug(4,n+"Cannot go to previous sentence because the text is null")},this.displayWord=function(e,t,n){Tt(e,t,0,n)},this.eraseWord=function(){Nt()}},SPRITZ.namespace("SPRITZ.client"),SPRITZ.addToNamespace(SPRITZ.client,function(){var e={name:"Spritz_JSSDK",version:"1.0.5",buildDate:"Thu Apr 10 2014 16:54:54 GMT-0600 (MDT)"};return{VersionInfo:e}}),SPRITZ.addToNamespace(SPRITZ.namespace("SPRITZ.client"),function(){function e(e,t){this.code=e,this.message=t}function t(e,t,n){this.url=t+"/oauth/authorize?c="+encodeURIComponent(SPRITZ.client.VersionInfo.name+"_"+SPRITZ.client.VersionInfo.version)+"&response_type=token&client_id="+e+"&redirect_uri="+encodeURIComponent(n),this.onSuccess=null,this.onError=null}var n=function(e){"function"==typeof window.removeEventListener?(window.removeEventListener("message",this.onMessageHandler,!1),"object"==typeof console&&console.log("Registered listener via addEventListener")):window.detachEvent("onmessage",this.onMessageHandler),localStorage.removeItem("spritz.authResponse");var t=r(e.data);t.access_token&&t.token_type?"bearer"===t.token_type?this.onSuccess&&this.onSuccess(t.access_token):this.onError&&this.onError(new Error("Unexpected token type: "+t.token_type)):this.onError&&this.onError(new Error("No token data in response")),this.showing=!1,e.source.close()},r=function(e){var t={};if(null===e||0===e.length)return t;var n=e.indexOf("#");n>=0&&(e=e.substring(n+1));for(var r=e.split("&"),i=0;i<r.length;i++){var s,o,u=r[i],a=u.indexOf("=");-1===a?(s=decodeURIComponent(u),o=!0):(s=decodeURIComponent(u.substring(0,a)),o=decodeURIComponent(u.substring(a+1))),t[s]=o}return t};return t.prototype.show=function(e,t){this.onSuccess=e,this.onError=t,"object"==typeof console&&console.log("opening auth popup with URL: ",this.url),"undefined"==typeof localStorage&&localStorage.removeItem("spritz.authResponse");var r=window.open(this.url,"SpritzLogin","width=400,height=400,location=0,menubar=0,toolbar=0");if(r){r.focus(),this.showing=!0,this.onMessageHandler=jsutil.createDelegate(this,n),"function"==typeof window.addEventListener?(window.addEventListener("message",this.onMessageHandler,!1),"object"==typeof console&&console.log("Registered listener via addEventListener")):window.attachEvent("onmessage",this.onMessageHandler);var i=this,s=null;s=setInterval(function(){if("undefined"!=typeof localStorage){var e=localStorage.getItem("spritz.authResponse");null!==e&&i.onMessageHandler({data:e,source:r})}i.showing&&r?r.closed&&(clearInterval(s),i.showing=!1,i.onError&&i.onError(new Error("Login aborted"))):clearInterval(s)},250)}else alert("Please enable popups to use Spritz."),this.onError&&this.onError(new Error("Popup unable to open."))},{APIError:e,AuthPopup:t}}),SPRITZ.addToNamespace(SPRITZ.namespace("SPRITZ.client"),function(){var e=jQuery,t=function(e,t){return"spritz."+t+"Token."+e},n=function(){var e=this.apiRoot.indexOf("//");if(-1===e)this.apiHost="api.spritzinc.com";else{var t=this.apiRoot.indexOf("/",e+2);this.apiHost=-1===t?this.apiRoot.substring(e+2):this.apiRoot.substring(e+2,t)}},r=function(t,n){var r=this,i=function(e){"access_token"in e&&"token_type"in e&&"bearer"===e.token_type?"function"==typeof t&&c.call(r,e.access_token,t,n):"function"==typeof n&&n(new Error("Client login failed, invalid response"))},o=function(e){var t=s.call(r,e);if(403===t.code&&("object"==typeof console&&console.log("Client ID "+r.clientId+" is not authorized to use anonymous mode"),r.anonymousEnabled=!1),"function"==typeof n){var i=new Error("Unable to perform client login: "+t.message);i.cause=t,n(i)}};e.ajax({type:"GET",url:this.apiRoot+"/oauth/clientToken?clientId="+encodeURIComponent(this.clientId),dataType:"json",async:!0,success:i,error:o})},i=function(){"/"===this.apiRoot.substring(this.apiRoot.length-1)&&(this.apiRoot=this.apiRoot.substring(0,this.apiRoot.length-1))},s=function(e){var t=null;return 500===e.status||403===e.status,null===t&&(t=new SPRITZ.client.APIError(e.status,"HTTP call failed, status: "+e.status+", message: "+e.statusText)),t},o=function(t,n,i,o){var a,f,c,h=1,p=this;if(a=function(){console&&console.log("Invoking "+t.type+" "+t.url);var n=function(e){if(401===e.status&&1===h)h++,"user"===c?y.call(p,null):"client"===c&&g.call(p,null),f();else{var t=s(e);o?o(t):console&&console.log(t.code+": "+t.message)}};"user"===c?t.headers={Authorization:"Bearer "+p.userAccessToken}:"client"===c&&(t.headers={Authorization:"Bearer "+p.clientAccessToken}),t.success=i,t.error=n,e.ajax(t)},f=function(){if(n||null!==p.userAccessToken)if(c="user",n&&null===p.userAccessToken){var e=function(e){o&&o(new Error("API call failed, login failed: "+e.message))};u.call(p,a,e)}else a();else if(c="client",null===p.clientAccessToken){var t=function(e){"cause"in e&&e.cause instanceof SPRITZ.client.APIError&&403===e.cause.code?("object"==typeof console&&console.log("Client login failed with status 403, retrying API call with userRequired"),n=!0,f()):o&&o(new Error("API call failed, client login failed: "+e.message))};r.call(p,a,t)}else a()},p.initialized)f();else{var d=function(e){o&&o(new Error("Execution failed, unable to get accessToken: "+e.message))};l.call(p,f,d)}},u=function(e,t){var n=new SPRITZ.client.AuthPopup(this.clientId,this.apiRoot,this.redirectUri),r=this,i=function(n){h.call(r,n,e,t)},s=function(e){"function"==typeof t&&t(new Error("Login Failed: "+e.message))};n.show(i,s)},a=function(e,t,n){var r=this,i=1,s=!r.anonymousEnabled,u=function(){o.call(r,{type:"POST",contentType:"application/json",url:r.apiRoot+"/content",dataType:"json",async:!0,data:JSON.stringify({url:e})},s,function(e){t&&t(e)},function(e){!s&&"code"in e&&403===e.code&&1===i?("object"==typeof console&&console.log("Content retrieval in anonymous failed with 403, retrying with userRequired=true"),i++,s=!0,u()):"function"==typeof n&&n(new Error("Content retrieval failed: "+e.message))})};u()},f=function(e,t,n){o.call(this,{type:"GET",url:this.apiRoot+"/contentVersion?includePlainText=false&sortColumn=createdDate&sortDirection=DESC&pageSize=1&contentId="+encodeURIComponent(e),dataType:"json",async:!0},!this.anonymousEnabled,function(e){if(0===e.content.length)n&&n(new Error("No contentVersion returned"));else{var r=e.content[0];if(t){var i=SPRITZ.model.SpritzText.create(r.sd0,r.sd1,r.sd2,r.duration);t(i)}}},function(t){n&&n(new Error("Unable to retrieve contentVersion, contentId="+e+": "+t.message))})},l=function(e,t){var n=null;try{this.initialized=!0}catch(r){n=r}null===n?e&&e():"function"==typeof t&&t(new Error("Initialization failed: "+n.message))},c=function(e,t){g.call(this,e),"function"==typeof t&&t(e)},h=function(e,t,n){b.call(this,e,t,n)},p=function(e,t){y.call(this,e),t&&t(e)},d=function(e){"undefined"!=typeof localStorage&&localStorage.removeItem(t(this.apiHost,e))},v=function(e,n){"undefined"!=typeof localStorage&&localStorage.setItem(t(this.apiHost,e),n)},m=function(e){var n;return n="undefined"==typeof localStorage?null:localStorage.getItem(t(this.apiHost,e))},g=function(e){if(this.clientAccessToken=e,null===e)d.call(this,"client");else try{v.call(this,"client",e)}catch(t){console&&console.log("Error with localStorage: ",t)}},y=function(e){if(this.userAccessToken=e,null===e)d.call(this,"user");else try{v.call(this,"user",e)}catch(t){console&&console.log("Error with localStorage: ",t)}},b=function(t,n,r){var i=function(e){r&&r(new Error("Token validation failed: "+e.message))},s=this;e.ajax({type:"GET",url:this.apiRoot+"/oauth/tokeninfo?access_token="+encodeURIComponent(t),dataType:"json",async:!0,success:function(e){e.audience===s.clientId?p.call(s,t,n,r):i(new Error("clientId mismatch"))},error:i})},w=function(e,t,r){this.clientId=e,this.apiRoot=t,this.redirectUri=r,this.initialized=!1,this.clientAccessToken=null,this.userAccessToken=null,this.apiHost=null,this.anonymousEnabled=!1,i.call(this),n.call(this),this.clientAccessToken=m.call(this,"client"),this.userAccessToken=m.call(this,"user")};return w.prototype.fetchContents=function(e,t,n){var r=this,i=function(e){f.call(r,e.id,t,n)};a.call(this,e,i,n)},w.prototype.isUserLoggedIn=function(){return"string"==typeof this.userAccessToken&&this.userAccessToken.length>0},w.prototype.spritzify=function(e,t,n,r){o.call(this,{type:"POST",url:this.apiRoot+"/misc/spritzify",dataType:"json",async:!0,data:{plainText:e,locale:t}},!0,function(e){try{var t=SPRITZ.model.SpritzText.create(e.sd0,e.sd1,e.sd2,e.duration);"function"==typeof n&&n(t)}catch(i){"function"==typeof r&&r(new Error("Invalid data received: "+i.message))}},function(e){if(r){var t;t="undefined"!=typeof e.message?e.message:e.status+" ["+e.statusText+"]",r(new Error("Unable to retrive spritzableText: "+t))}})},w.prototype.setAnonymousEnabled=function(e){this.anonymousEnabled=e===!0},{SpritzClient:w}}),jQuery(document).ready(function(){if("SpritzSettings"in window&&"object"==typeof window.SpritzSettings)if(window.SpritzSettings.hasOwnProperty("clientId")){var e="https://api.spritzinc.com/api-server/v1/",t=location.href;window.SpritzSettings.hasOwnProperty("apiRoot")&&(e=window.SpritzSettings.apiRoot),window.SpritzSettings.hasOwnProperty("redirectUri")&&(t=window.SpritzSettings.redirectUri),"object"==typeof SPRITZ&&"object"==typeof SPRITZ.client&&(window.SpritzClient=new SPRITZ.client.SpritzClient(window.SpritzSettings.clientId,e,t),window.SpritzSettings.hasOwnProperty("anonymousEnabled")&&"boolean"==typeof window.SpritzSettings.anonymousEnabled&&window.SpritzClient.setAnonymousEnabled(window.SpritzSettings.anonymousEnabled),"object"==typeof SPRITZ.spritzinc&&SPRITZ.spritzinc.initSpritzers(window.SpritzClient))}else console&&console.log("SpritzSettings is missing clientId property, skipping initialization")}),SPRITZ.namespace("SPRITZ.spritzinc"),SPRITZ.addToNamespace(SPRITZ.spritzinc,function(){function e(e){this.spritzClient=null,this.loading=!1,this.container=null,this.parentContainer=null,this.spritzPanel=null,this.pausePlayBtn=null,this.rewindBtn=null,this.backBtn=null,this.forwardBtn=null,this.pauseTitle=null,this.playTitle=null,this.speedDropdownController=null,this.progressReporter=null,t.call(this,e)}function t(e){var t=N(e);this.container=M(C(t));var n=M(".spritz-canvas",this.container);this.spritzPanel=new SPRITZ.display.SpritzReadingPanel(n[0]),this.pausePlayBtn=M(".btn-pauseplay",this.container),this.rewindBtn=M(".btn-rewind",this.container),this.backBtn=M(".btn-back",this.container),this.forwardBtn=M(".btn-forward",this.container);for(var r={pauseplay:s,rewind:o,back:u,forward:a,redicle:f,complete:l,speedchange:c},i=t.controlButtons,h=0,p=i.length;p>h;h+=1)M(".btn-"+i[h],this.container).on("click",jsutil.createDelegate(this,r[i[h]]));n.on("click",jsutil.createDelegate(this,f));var d=M(".btn-group.speed",this.container);this.speedDropdownController=new SPRITZ.component.BootstrapSelectController(d),d.on("change",jsutil.createDelegate(this,c));var v=T();this.spritzPanel.setCurrentTextSpeed(v>0?v:t.defaultSpeed),this.progressReporter=jsutil.createDelegate(this,O),E.call(this),S.call(this,!0),this.pauseTitle=t.controlTitles.pause,this.playTitle=t.controlTitles.play}function n(){if(null!==this.spritzClient&&!this.loading){var e=this.parentContainer.data("url");(null===e||"undefined"==typeof e)&&(e=location.href),e.length>0&&(this.loading=!0,this.pausePlayBtn.addClass("btn-disabled"),M("#spritzer-loading").show(),this.spritzClient.fetchContents(e,jsutil.createDelegate(this,r),jsutil.createDelegate(this,i)))}}function r(e){M("#spritzer-loading").hide(),this.loading=!1,this.pausePlayBtn.removeClass("btn-disabled"),this.startSpritzing(e),E.call(this,!0),S.call(this,!1)}function i(e){M("#spritzer-loading").hide(),this.loading=!1,this.pausePlayBtn.removeClass("btn-disabled"),"object"==typeof console&&console.log("Unable to spritz: "+e.message)}function s(){null==this.spritzPanel.getCurrentText()?n.call(this):x(this.pausePlayBtn)&&(this.spritzPanel.isPaused()||this.spritzPanel.isReady()?(this.spritzPanel.resumeText(),E.call(this,!0),S.call(this,!1),p.call(this,this.playTitle)):(this.spritzPanel.pauseText(),E.call(this),S.call(this,!0),p.call(this,this.pauseTitle)))}function o(){if(x(this.rewindBtn)){this.spritzPanel.pauseText();var e=this.spritzPanel.getCurrentPosition();this.spritzPanel.goToFirstWord(),E.call(this),S.call(this,!0),d.call(this,e)}}function u(){if(x(this.backBtn)){this.spritzPanel.pauseText();var e=this.spritzPanel.getCurrentPosition();this.spritzPanel.goToPreviousSentence(),E.call(this),S.call(this,!0),v.call(this,e)}}function a(){if(x(this.forwardBtn)){this.spritzPanel.pauseText();var e=this.spritzPanel.getCurrentPosition();this.spritzPanel.goToNextSentence(),E.call(this),S.call(this,!0),m.call(this,e)}}function f(){null==this.spritzPanel.getCurrentText()?n.call(this):x(this.pausePlayBtn)&&this.spritzPanel.getCurrentText().hasNextWord()?this.spritzPanel.isPaused()||this.spritzPanel.isReady()?(this.spritzPanel.resumeText(),E.call(this,!0),S.call(this,!1),g.call(this,this.playTitle)):(this.spritzPanel.pauseText(),E.call(this),S.call(this,!0),g.call(this,this.pauseTitle)):(this.spritzPanel.goToFirstWord(),this.spritzPanel.resumeText(),E.call(this,!0),S.call(this,!1),g.call(this,this.playTitle))}function l(){E.call(this),S.call(this,!0),y.call(this)}function c(e,t){this.spritzPanel.setCurrentTextSpeed(parseInt(t.newValue)),b.call(this)}function h(e,t){var n=[];n.push(this.spritzPanel.getCurrentPosition()),"undefined"!=typeof t&&n.push(t),this.parentContainer.trigger("onSpritz"+e,n)}function p(e){h.call(this,e)}function d(e){h.call(this,"Rewind",e)}function v(e){h.call(this,"Back",e)}function m(e){h.call(this,"Forward",e)}function g(e){h.call(this,e)}function y(){this.parentContainer.trigger("onSpritzComplete")}function b(){this.parentContainer.trigger("onSpritzSpeedChange",[this.spritzPanel.getCurrentTextSpeed()])}function w(e){this.parentContainer.trigger("onProgressChange",[e])}function E(e){null==this.spritzPanel.getCurrentText()||0==this.spritzPanel.getCurrentText().getWords().length?(this.pausePlayBtn.addClass("btn-disabled"),this.rewindBtn.addClass("btn-disabled"),this.backBtn.addClass("btn-disabled"),this.forwardBtn.addClass("btn-disabled")):e||this.spritzPanel.getCurrentPosition()>0&&this.spritzPanel.getCurrentText().hasNextWord()?(this.pausePlayBtn.removeClass("btn-disabled"),this.rewindBtn.removeClass("btn-disabled"),this.backBtn.removeClass("btn-disabled"),this.forwardBtn.removeClass("btn-disabled")):0==this.spritzPanel.getCurrentPosition()?(this.pausePlayBtn.removeClass("btn-disabled"),this.rewindBtn.addClass("btn-disabled"),this.backBtn.addClass("btn-disabled"),this.forwardBtn.removeClass("btn-disabled")):this.spritzPanel.getCurrentText().hasNextWord()||(this.pausePlayBtn.addClass("btn-disabled"),this.rewindBtn.removeClass("btn-disabled"),this.backBtn.removeClass("btn-disabled"),this.forwardBtn.addClass("btn-disabled"))}function S(e){e?(this.pausePlayBtn.removeClass("btn-pause"),this.pausePlayBtn.addClass("btn-play"),this.pausePlayBtn.prop("title","Play")):(this.pausePlayBtn.removeClass("btn-play"),this.pausePlayBtn.addClass("btn-pause"),this.pausePlayBtn.prop("title","Pause"))}function x(e){return!e.hasClass("btn-disabled")}function T(){var e=M(".btn-group.speed",this.container).text();return parseInt(e.substr(0,e.indexOf("wpm")))}function N(e){var t={redicleWidth:340,redicleHeight:70,defaultSpeed:250,speedItems:[250,300,350,400,450,500,550,600],controlButtons:["back","pauseplay","rewind"],controlTitles:{pause:"Pause",play:"Play",rewind:"Rewind",back:"Previous Sentence"}};if("undefined"!=typeof e){for(var n in e)t.hasOwnProperty(n)?t[n]=e[n]:console.log("?? Invalid attribute ["+n+" : "+e[n]+"] encountered in custom options");t.redicleWidth<250&&(t.redicleWidth=250),t.redicleHeight<50&&(t.redicleHeight=50)}return t}function C(e){var t="";return t+='<div class="spritzer-container">',t+='<div id="spritzer-loading"></div>',t+='<div class="spritzer-preloaded button btn-pause"></div>',t+='<div class="canvas-container">',t+='<canvas class="spritz-canvas" width="'+e.redicleWidth+'" height="'+e.redicleHeight+'"></canvas>',t+="</div>",t+='<div class="controls-container">',t+='<a href="http://www.spritzinc.com" target="_blank" class="image powered-by-spritz"></a>',t+=L(e),t+=k(e),t+="</div>",t+="</div>"}function k(e){var t="";t+='<div class="button-container">',t+='<div class="spritzer-preload button btn-pause">a</div>';for(var n=0,r=e.controlButtons.length;r>n;n+=1){var i=e.controlButtons[n],s=e.controlTitles[i];t+='<div class="button btn-'+i+'" title="'+s+'"></div>'}return t+='<div class="clear"></div>',t+="</div>"}function L(e){var t=e.speedItems,n="";n+='<div class="btn-group speed" data-role="select">',n+='<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">'+e.defaultSpeed+'wpm <span class="caret"></span></button>',n+='<ul class="dropdown-menu dropdown-speed" role="menu">';for(var r=0,i=t.length;i>r;r+=1)n+='<li data-value="'+t[r]+'"><a href="#">'+t[r]+"wpm</a></li>";return n+="</div>"}function A(e){var t=M('*[data-role="spritzer"]');t.each(function(t,n){var r=M(n),i=r.data("options");"object"!=typeof i&&(i=null);var s=new SPRITZ.spritzinc.SpritzerController(i);s.spritzClient=e,s.attach(r)})}function O(e,t){var n=100*e,r=n/t;100>=t?w.call(this,r):100>n%t&&w.call(this,r)}var M=jQuery;return e.prototype.attach=function(e){this.parentContainer=e,e.hasClass("spritzer")||e.addClass("spritzer"),this.container.appendTo(e),e.data("controller",this),null!==this.spritzClient&&this.hasSource()&&(S.call(this,!0),this.pausePlayBtn.removeClass("btn-disabled"))},e.prototype.detach=function(){this.container.detach()},e.prototype.hasSource=function(){var e;if(null===this.spritzPanel.getCurrentText()){var t=this.parentContainer.data("url");e=null===t||"undefined"==typeof t||t.length>0}else e=!0;return e},e.prototype.setSpritzText=function(e){this.spritzPanel.resetText(),null===e?(E.call(this,!1),null!=this.spritzClient&&this.hasSource()&&(S.call(this,!1),this.pausePlayBtn.removeClass("btn-disabled"))):(null==e.getProgressTracker()&&e.setProgressTracker(this.progressReporter),this.spritzPanel.setCurrentText(e),this.spritzPanel.setOnCompleteCallback(jsutil.createDelegate(this,l)),E.call(this,!1))},e.prototype.getUrl=function(){return this.parentContainer.data("url")},e.prototype.setUrl=function(e){this.parentContainer.data("url")===e||(this.spritzPanel.resetText(),this.parentContainer.data("url",e),E.call(this,!1),null!==this.spritzClient&&this.hasSource()&&(S.call(this,!0),this.pausePlayBtn.removeClass("btn-disabled")))},e.prototype.startSpritzing=function(e){this.spritzPanel.pauseText(),null==e.getProgressTracker()&&e.setProgressTracker(this.progressReporter),this.spritzPanel.displayText(e,jsutil.createDelegate(this,l)),E.call(this,!0),S.call(this,!1)},e.prototype.stopSpritzing=function(){this.spritzPanel.resetText(),E.call(this),S.call(this,!0)},e.prototype.pauseSpritzing=function(){this.spritzPanel.pauseText()},e.prototype.resumeSpritzing=function(){this.spritzPanel.resumeText()},e.prototype.getSpeed=function(){return this.spritzPanel.getCurrentTextSpeed()},e.prototype.setSpeed=function(e){return this.speedDropdownController.setValue(e,!1)},e.prototype.getHighlightBestLetter=function(){return this.spritzPanel.getHighlightBestLetter()},e.prototype.setHighlightBestLetter=function(e){this.spritzPanel.setHighlightBestLetter(e)},e.prototype.getProgressReporter=function(){return this.progressReporter},e.prototype.setProgressReporter=function(e){this.progressReporter=e},{SpritzerController:e,initSpritzers:A}});var goog={};goog.math={},goog.math.Long=function(e,t){this.low_=0|e,this.high_=0|t},goog.math.Long.IntCache_={},goog.math.Long.fromInt=function(e){if(e>=-128&&128>e){var t=goog.math.Long.IntCache_[e];if(t)return t}var n=new goog.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(goog.math.Long.IntCache_[e]=n),n},goog.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?goog.math.Long.ZERO:e<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MIN_VALUE:e+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MAX_VALUE:0>e?goog.math.Long.fromNumber(-e).negate():new goog.math.Long(e%goog.math.Long.TWO_PWR_32_DBL_|0,e/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(e,t){return new goog.math.Long(e,t)},goog.math.Long.fromString=function(e,t){if(0==e.length)throw Error("number format error: empty string");var n=t||10;if(2>n||n>36)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return goog.math.Long.fromString(e.substring(1),n).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var r=goog.math.Long.fromNumber(Math.pow(n,8)),i=goog.math.Long.ZERO,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+o),n);if(8>o){var a=goog.math.Long.fromNumber(Math.pow(n,o));i=i.multiply(a).add(goog.math.Long.fromNumber(u))}else i=i.multiply(r),i=i.add(goog.math.Long.fromNumber(u))}return i},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_24_DBL_=1<<24,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_31_DBL_=goog.math.Long.TWO_PWR_32_DBL_/2,goog.math.Long.TWO_PWR_48_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.ZERO=goog.math.Long.fromInt(0),goog.math.Long.ONE=goog.math.Long.fromInt(1),goog.math.Long.NEG_ONE=goog.math.Long.fromInt(-1),goog.math.Long.MAX_VALUE=goog.math.Long.fromBits(-1,2147483647),goog.math.Long.MIN_VALUE=goog.math.Long.fromBits(0,-2147483648),goog.math.Long.TWO_PWR_24_=goog.math.Long.fromInt(1<<24),goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(e){var t=e||10;if(2>t||t>36)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.MIN_VALUE)){var n=goog.math.Long.fromNumber(t),r=this.div(n),i=r.multiply(n).subtract(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.negate().toString(t)}for(var s=goog.math.Long.fromNumber(Math.pow(t,6)),i=this,o="";;){var u=i.div(s),a=i.subtract(u.multiply(s)).toInt(),f=a.toString(t);if(i=u,i.isZero())return f+o;for(;f.length<6;)f="0"+f;o=""+f+o}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high_?t+33:t+1},goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},goog.math.Long.prototype.isNegative=function(){return this.high_<0},goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},goog.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_},goog.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_},goog.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},goog.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},goog.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},goog.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},goog.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.MIN_VALUE)?goog.math.Long.MIN_VALUE:this.not().add(goog.math.Long.ONE)},goog.math.Long.prototype.add=function(e){var t=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,s=e.high_>>>16,o=65535&e.high_,u=e.low_>>>16,a=65535&e.low_,f=0,l=0,c=0,h=0;return h+=i+a,c+=h>>>16,h&=65535,c+=r+u,l+=c>>>16,c&=65535,l+=n+o,f+=l>>>16,l&=65535,f+=t+s,f&=65535,goog.math.Long.fromBits(c<<16|h,f<<16|l)},goog.math.Long.prototype.subtract=function(e){return this.add(e.negate())},goog.math.Long.prototype.multiply=function(e){if(this.isZero())return goog.math.Long.ZERO;if(e.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE))return e.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(e.equals(goog.math.Long.MIN_VALUE))return this.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(goog.math.Long.TWO_PWR_24_)&&e.lessThan(goog.math.Long.TWO_PWR_24_))return goog.math.Long.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,s=e.high_>>>16,o=65535&e.high_,u=e.low_>>>16,a=65535&e.low_,f=0,l=0,c=0,h=0;return h+=i*a,c+=h>>>16,h&=65535,c+=r*a,l+=c>>>16,c&=65535,c+=i*u,l+=c>>>16,c&=65535,l+=n*a,f+=l>>>16,l&=65535,l+=r*u,f+=l>>>16,l&=65535,l+=i*o,f+=l>>>16,l&=65535,f+=t*a+n*u+r*o+i*s,f&=65535,goog.math.Long.fromBits(c<<16|h,f<<16|l)},goog.math.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE)){if(e.equals(goog.math.Long.ONE)||e.equals(goog.math.Long.NEG_ONE))return goog.math.Long.MIN_VALUE;if(e.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ONE;var t=this.shiftRight(1),n=t.div(e).shiftLeft(1);if(n.equals(goog.math.Long.ZERO))return e.isNegative()?goog.math.Long.ONE:goog.math.Long.NEG_ONE;var r=this.subtract(e.multiply(n)),i=n.add(r.div(e));return i}if(e.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(var s=goog.math.Long.ZERO,r=this;r.greaterThanOrEqual(e);){for(var n=Math.max(1,Math.floor(r.toNumber()/e.toNumber())),o=Math.ceil(Math.log(n)/Math.LN2),u=48>=o?1:Math.pow(2,o-48),a=goog.math.Long.fromNumber(n),f=a.multiply(e);f.isNegative()||f.greaterThan(r);)n-=u,a=goog.math.Long.fromNumber(n),f=a.multiply(e);a.isZero()&&(a=goog.math.Long.ONE),s=s.add(a),r=r.subtract(f)}return s},goog.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(e){return goog.math.Long.fromBits(this.low_&e.low_,this.high_&e.high_)},goog.math.Long.prototype.or=function(e){return goog.math.Long.fromBits(this.low_|e.low_,this.high_|e.high_)},goog.math.Long.prototype.xor=function(e){return goog.math.Long.fromBits(this.low_^e.low_,this.high_^e.high_)},goog.math.Long.prototype.shiftLeft=function(e){if(e&=63,0==e)return this;var t=this.low_;if(32>e){var n=this.high_;return goog.math.Long.fromBits(t<<e,n<<e|t>>>32-e)}return goog.math.Long.fromBits(0,t<<e-32)},goog.math.Long.prototype.shiftRight=function(e){if(e&=63,0==e)return this;var t=this.high_;if(32>e){var n=this.low_;return goog.math.Long.fromBits(n>>>e|t<<32-e,t>>e)}return goog.math.Long.fromBits(t>>e-32,t>=0?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0==e)return this;var t=this.high_;if(32>e){var n=this.low_;return goog.math.Long.fromBits(n>>>e|t<<32-e,t>>>e)}return 32==e?goog.math.Long.fromBits(t,0):goog.math.Long.fromBits(t>>>e-32,0)};(function(){function s(){var e=window,t="inner";if(!("innerWidth"in window)){t="client";e=document.documentElement||document.body}return{width:e[t+"Width"],height:e[t+"Height"]}}var e=null;var t=false;var n=function(n){t=n;e.startSpritzing(n)};var r=function(e){alert("Unable to Spritz: "+e.message)};var i=function(){if(!t){var i="http://sdk.spritzinc.com/js/1.0/examples/Example6.html";SpritzClient.fetchContents(i,n,r)}else{setTimeout(function(){e.resumeSpritzing()},500)}};if(!u){var s=s();var o=s.width-30>400?400:s.width-30;var u={redicleWidth:o,redicleHeight:50,defaultSpeed:600,speedItems:[100,200,300,400,500,600],controlButtons:["rewind"]}}var a=function(){e=new SPRITZ.spritzinc.SpritzerController(u);e.attach($("#spritzer"))};$(document).ready(function(){$("#tilt").html("X:  Y:");$("body").prepend('<span id="spr_fallback" >D</span><div id="spr_fade"></div><div id="spr_overlay"><div id="spritzer"></div></div>');$("#spr_fallback").click(function(){i();$("#spr_overlay").fadeTo("fast",1);$("#spr_fade").fadeTo("fast",.5)});$("#spr_fade").click(function(){e.pauseSpritzing();$("#spr_overlay").fadeOut("fast",0);$("#spr_fade").fadeOut("fast",0)});a();var t=0;var n=+(new Date);var r=+(new Date)-1e3;if(window.DeviceMotionEvent){window.addEventListener("devicemotion",function(){if(event.acceleration.x>25||event.acceleration.y>25){t=event.acceleration.x>event.acceleration.y?event.acceleration.x:event.acceleration.y;n=+(new Date);if(t>25&&n-r>500){r=n;if($("#spr_fade").is(":visible")){$("#spr_fade").click()}else{$("#spr_fallback").click()}t=0}$("#tilt").html("X: "+event.acceleration.x+" Y:"+event.acceleration.y)}},true)}})})()